<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            padding: 0;
            margin: 0;
            border: none;
        }
        img {
            width: 200px;
            vertical-align: top;
        }
        #main {
            position: relative;
        }
        .box {
            position: absolute;
            padding: 15px 0 0 15px;
        }
        .pic {
            padding: 10px;
            border: 1px solid #ccc;
        }
    </style>

</head>
<body>
<div id="main">
    <div class="box">
        <div class="pic">
            <img style="height: 300px;" src="../program1/images/1.jpg" alt="">
        </div>
    </div>
    <div class="box"><div class="pic"><img style="height: 300px;" src="../program1/images/2.jpg" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height: 500px;" src="../program1/images/3.png" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height: 700px;" src="../program1/images/4.png" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height: 100px;" src="../program1/images/1.jpg" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height: 400px;" src="../program1/images/2.jpg" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height:900px;" src="../program1/images/3.png" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height: 800px;" src="../program1/images/4.png" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height: 700px;" src="../program1/images/1.jpg" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height: 300px;" src="../program1/images/2.jpg" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height: 100px;" src="../program1/images/3.png" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height: 600px;" src="../program1/images/4.png" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height: 700px;" src="../program1/images/1.jpg" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height: 200px;" src="../program1/images/2.jpg" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height: 400px;" src="../program1/images/3.png" alt=""></div></div>
    <div class="box"><div class="pic"><img style="height: 200px;" src="../program1/images/4.png" alt=""></div></div>
</div>


<script>
    window.addEventListener("load",function() {
        //1、实现瀑布流布局
        waterFall('main','box');
    })


    /*
      实现瀑布流布局，传递参数为string类型
    */
    function waterFall(parent,child) {
        //1、根据图片的列数来确定父盒子的宽度，父盒子居中
        //1.1 获取标签，父盒子和所有子盒子
        var father= document.getElementById(parent);
        var allBox = document.getElementsByClassName(child);

        // console.log(father.offsetHeight, father.getBoundingClientRect().height)

        // console.log(allBox, father)
        var top1 = 0;
        var top2 = 0;
        for (var i = 0; i < allBox.length; i++) {
            var item = allBox[i];


            console.log('top1: ' + top1, 'top2: ' + top2)
            var left = i % 2 === 0 ? 0 : 500;
            var top = i % 2 === 0 ? top1 : top2;
            item.style = 'left:' + left + 'px; top: ' + top + 'px;'

            if (i % 2 == 0) {
                top1 += item.getBoundingClientRect().height;
            } else {
                top2 += item.getBoundingClientRect().height;
            }
        }

    }


</script>
</body>
</html>